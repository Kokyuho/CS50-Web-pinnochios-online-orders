{% extends "orders/layout.html" %}

{% block title %}
    Pinnochioâ€™s Pizza & Subs Online Orders
{% endblock %}
    

{% block script %}
<script>
    // Functions running when DOM has loaded
    document.addEventListener('DOMContentLoaded', function() {

        // Onchange of item select box
        document.getElementById('item').onchange = function() {
            document.getElementById('toppings').hidden = true;
            document.getElementById('subExtras').hidden = true;     
            var x = document.getElementsByClassName("foodType");
            for (i = 0; i < x.length; i++) {
                x[i].hidden = true;
            } 
            if (this.value === 'pizza') {
                document.getElementById('pizzaType').hidden = false;
                document.getElementById('toppings').hidden = false;
                document.getElementById('sizes').hidden = false;
            } 
            else if (this.value === 'sub') {
                document.getElementById('subType').hidden = false;
                document.getElementById('subExtras').hidden = false;
                document.getElementById('sizes').hidden = false;
            }
            else if (this.value === 'pasta') {
                document.getElementById('pastaType').hidden = false;
                document.getElementById('sizes').hidden = true;
            }
            else if (this.value === 'salad') {
                document.getElementById('saladType').hidden = false;
                document.getElementById('sizes').hidden = true;
            }
            else if (this.value === 'dinnerPlatter') {
                document.getElementById('dinnerPlatterType').hidden = false;
                document.getElementById('sizes').hidden = false;
            }
        };

        // Onchange of item select box
        document.getElementById('pizzaType').onchange = function() {
            var x = document.getElementsByClassName("topping");
            for (i = 0; i < x.length; i++) {
                x[i].hidden = true;
            }
            if (this.value === 'Regular, 1 Topping' || this.value === 'Sicilian, 1 Topping') {
                document.getElementById('topping1').hidden = false;
            }
            else if (this.value === 'Regular, 2 Toppings' || this.value === 'Sicilian, 2 Toppings') {
                document.getElementById('topping1').hidden = false;
                document.getElementById('topping2').hidden = false;
            }
            else if (this.value === 'Regular, 3 Toppings' || this.value === 'Sicilian, 3 Toppings') {
                document.getElementById('topping1').hidden = false;
                document.getElementById('topping2').hidden = false;
                document.getElementById('topping3').hidden = false;
            }
            else if (this.value === 'Regular, Special' || this.value === 'Sicilian, Special') {
                document.getElementById('topping1').hidden = false;
                document.getElementById('topping2').hidden = false;
                document.getElementById('topping3').hidden = false;
                document.getElementById('topping4').hidden = false;
                document.getElementById('topping5').hidden = false;
            }
        }
    });
</script>
{% endblock %}


{% block body %}

<h1>Hello, {{ user.first_name }}</h1>
<h1>Please select your order and add it to the cart.</h1>

<form action="{% url 'addToCart' %}" method="post">
    {% csrf_token %}

    <!-- Item Select Box -->
    <div id="items">
        <label for="item">Item</label>
        <select id="item" name="item">
            <option value="pizza">Pizza</option>
            <option value="sub">Sub</option>
            <option value="pasta">Pasta</option>
            <option value="salad">Salad</option>
            <option value="dinnerPlatter">Dinner Platter</option>
        </select>
    </div>
    <!-- Item Select Box -->


    <!-- Types Select Boxes -->
    <div id="types">
        <hr>
        <label for="pizzaType">Type</label>

        <select id="pizzaType" name="pizzaType" class="foodType">
            {% for x in pizzaTypes %}
                <option value="{{ x.pizzaType }}" >{{ x.pizzaType }}</option>
            {% endfor %}
        </select>

        <select id="subType" name="subType" class="foodType" hidden>
            {% for x in subTypes %}
                <option value="{{ x.subType }}" >{{ x.subType }}</option>
            {% endfor %}
        </select>

        <select id="pastaType" name="pastaType" class="foodType" hidden>
            {% for x in pastaTypes %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="saladType" name="saladType" class="foodType" hidden>
            {% for x in saladTypes %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="dinnerPlatterType" name="dinnerPlatterType" class="foodType" hidden>
            {% for x in dinnerPlatterTypes %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>
    </div>
    <!-- Types Select Boxes -->


    <!-- Sizes Select Box -->
    <div id="sizes">
        <hr>
        <label for="size">Size</label>

        <select id="size" name="size">
            <option value="Small">Small</option>
            <option value="Large">Large</option>
        </select>
    </div>
    <!-- Sizes Select Box -->


    <!-- Topping Select Boxes -->
    <div id="toppings">
        <hr>
        <label for="topping1">Toppings</label>

        <select id="topping1" name="topping1" class="topping" hidden>
            {% for x in toppings %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="topping2" name="topping2" class="topping" hidden>
            {% for x in toppings %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="topping3" name="topping3" class="topping" hidden>
            {% for x in toppings %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="topping4" name="topping4" class="topping" hidden>
            {% for x in toppings %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>

        <select id="topping5" name="topping5" class="topping" hidden>
            {% for x in toppings %}
                <option value="{{ x.name }}" >{{ x.name }}</option>
            {% endfor %}
        </select>
    </div>
    <!-- Topping Select Boxes -->


    <!-- Sub Extras Select Boxes -->
    <div id="subExtras" hidden>
        <hr>
        <label for="subExtra1">Sub Extras</label>

        <select id="subExtra1" name="subExtra1" class="subExtra">
            <option value="None" >None</option>
            {% for x in subExtras %}
                <option value="{{ x.extraType }}" >{{ x.extraType }}</option>
            {% endfor %}
        </select>

        <select id="subExtra2" name="subExtra2" class="subExtra">
            <option value="None" >None</option>
            {% for x in subExtras %}
                <option value="{{ x.extraType }}" >{{ x.extraType }}</option>
            {% endfor %}
        </select>

        <select id="subExtra3" name="subExtra3" class="subExtra">
            <option value="None" >None</option>
            {% for x in subExtras %}
                <option value="{{ x.extraType }}" >{{ x.extraType }}</option>
            {% endfor %}
        </select>

        <select id="subExtra4" name="subExtra4" class="subExtra">
            <option value="None" >None</option>
            {% for x in subExtras %}
                <option value="{{ x.extraType }}" >{{ x.extraType }}</option>
            {% endfor %}
        </select>
    </div>
    <!-- Sub Extras Select Boxes -->
    
    <hr>
    <input type="submit" value="Add To Cart"/>
    <br>

</form>

<hr>

<a href="{% url 'logout' %}">Log-out</a>

{% endblock %}